<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Equating a pass-fail score with dexter • dexter</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="Equating a pass-fail score with dexter">
<meta property="og:description" content="dexter">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">dexter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/dexter.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/DIF_vignette.html">Exploring Differential Items Functioning with Dexter</a>
    </li>
    <li>
      <a href="../../articles/Equating.html">Equating a Pass-Fail Score</a>
    </li>
    <li>
      <a href="../../articles/Plausible_Values.html">Plausible Values in Dexter</a>
    </li>
    <li>
      <a href="../../articles/profile-plots.html">How Members of Different Groups Obtain the Same Test Score: Profile Plots in Dexter</a>
    </li>
    <li>
      <a href="../../articles/Test_Individual_differences.html">One theta to rule them all: Test Individual Differences</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../articles/blog/index.html">Blog</a>
</li>
<li>
  <a href="../../articles/blog/about.html">About</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dexter-psychometrics/dexter" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="2018-05-25-equating-a-pass-fail-score-with-dexter_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Equating a pass-fail score with dexter</h1>
                        <h4 data-toc-skip class="author">Timo Bechger</h4>
            
            <h4 data-toc-skip class="date">2018-05-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dexter-psychometrics/dexter/blob/HEAD/vignettes/blog/2018-05-25-equating-a-pass-fail-score-with-dexter.Rmd" class="external-link"><code>vignettes/blog/2018-05-25-equating-a-pass-fail-score-with-dexter.Rmd</code></a></small>
      <div class="hidden name"><code>2018-05-25-equating-a-pass-fail-score-with-dexter.Rmd</code></div>

    </div>

    
    
<p>Educational tests are often equipped with a threshold to turn the test score into a pass-fail decision. When a new test of the same kind is developed, we need a threshold for it that will be, in some sense, equivalent to the threshold for the old — let us call it <em>reference</em> — test. This is a special case of <em>test equating</em>, and it is similar to some well-studied problems in epidemiology; for the comfort of our predominantly psychometric audience, we start with an outline of those.</p>
<p>Consider a test for pregnancy. The state of nature is a binary variable (positive / negative). So is the outcome of the test, although the decision is possibly produced by dichotomizing the quantitative measurement of some hormone or other substance, just like we want to do with our educational test scores. There are four possible outcomes in all, which can be represented in a two-by-two table</p>
<table class="table"><tbody>
<tr>
<td rowspan="2" colspan="2">
</td>
<td colspan="2">
State of nature
</td>
</tr>
<tr>
<td>
Positive
</td>
<td>
Negative
</td>
</tr>
<tr>
<td rowspan="2">
Prediction
</td>
<td>
Positive
</td>
<td>
True positive (TP)
</td>
<td>
False positive (FP)
</td>
</tr>
<tr>
<td>
Negative
</td>
<td>
False negative (FN)
</td>
<td>
True negative (TN)
</td>
</tr>
</tbody></table>
<p>where TP, FP, FN, and TN are all counts. There is one ideal situation in which FP=FN=0 and all predictions are correct, and very many situations where this is not the case. Many statistics have been developed to measure the various ways in which actual data can depart from the ideal situation — this <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic" class="external-link">Wikipedia page</a> lists at least 13 of them. We will mention only three:</p>
<ul>
<li>True positive rate (TPR, sensitivity): The proportion of positives that are correctly identified as such, or TP/(TP+FN)</li>
<li>True negative rate (TNR, specificity): The proportion of negatives that are correctly identified as such, or TN/(TN+FP)</li>
<li>False positive rate (FNR) = 1 - specificity = FP/(TN+FP)</li>
</ul>
<p>What we can try to do is select the threshold for the test in such a way that the resulting table gets as close to the optimum as possible (not forgetting that the subjective cost of the two kinds of erroneous predictions may differ). The <em>receiver operating characteristic curve (ROC curve)</em> (<span class="citation">Swets (1996)</span>) is a graphical representations of the trade-offs between the TPR (one possible measure of benefit) and FPR (one possible measure of costs) resulting from all possible choices of such a threshold. The optimal choice would then be the one corresponding to the point on the curve that comes closest to the upper left corner (perfect prediction). An example ROC curve is shown on the top plot below.</p>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" style="display: block; margin: auto;"><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-1" alt="plot of chunk unnamed-chunk-1" style="display: block; margin: auto;"></p>
<p>Before we explain in more detail, let us go back to our educational example. Let us assume for a moment that all students have taken both the old (reference) test and the new (target) test, and that the decision on the reference test represents the ‘state of nature’. The task is then to select a threshold on the target test such that the decision on the reference is reproduced as closely as possible by the decision on the new test. On the bottom plot above, the (fictional) distribution function of the scores on the target test is represented in blue for the students who passed the reference test, and in red for those who failed. We show two of the infinitely many thresholds that can be chosen, and it is clear that the one shown in black is much preferable to the one shown in gray (compare with the two dots on the ROC curve).</p>
<div class="section level3">
<h3 id="an-illustration-with-complete-psychometric-data">An illustration with complete psychometric data<a class="anchor" aria-label="anchor" href="#an-illustration-with-complete-psychometric-data"></a>
</h3>
<p>It is time to try out these ideas with (simulated) psychometric data. First, we examine the situation where both tests, the reference test and the new one, have been administered to the same respondents. This is not a typical situation because, in practice, we usually deal with data collected in an <em>incomplete design</em> where no candidates take both tests. In this situation, if we can estimate the parameters of the items, we can use the IRT model to <em>fill in the missing data</em>. Obviously, without observations we no longer know whether an individual has actually passed the reference test or not (see <span class="citation">Bolsinova and Maris (2016)</span>). We can, however, calculate sensitivity and specificity even in that situation.</p>
<p>We use the verbal aggression data with the first 14 items assumed to be the reference test, and the remaining 10 items to be the target test. The pass-fail score on the reference test is set to 10. All this is quite arbitrary, of course – the test is not intended to measure educational achievement, and we are certainly not handing out diplomas for verbal aggressiveness.</p>
<p>As a start, we produce a scatter plot of the scores:</p>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" style="display: block; margin: auto;"></p>
<p>The proportion of respondents who pass the reference test gradually increases with the score on the new test; below, it is plotted in red:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">prob_pass</span> <span class="op">=</span> <span class="va">tp</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">29</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">prob_pass</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">==</span><span class="va">i</span><span class="op">]</span><span class="op">&gt;=</span><span class="fl">10</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">==</span><span class="va">i</span><span class="op">)</span>
  <span class="va">tp</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&gt;=</span><span class="va">i</span><span class="op">]</span><span class="op">&gt;=</span><span class="fl">10</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&gt;=</span><span class="va">i</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span>, <span class="va">prob_pass</span>, ylab<span class="op">=</span><span class="st">"Proportion passing the reference test"</span>, xlab<span class="op">=</span><span class="st">"New test score"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"o"</span>, col<span class="op">=</span><span class="st">"red"</span>,bty<span class="op">=</span><span class="st">'l'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span>, <span class="va">tp</span>, type<span class="op">=</span><span class="st">"o"</span>, lty<span class="op">=</span><span class="fl">2</span>, col<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-3" alt="plot of chunk unnamed-chunk-3" style="display: block; margin: auto;"></p>
<p>The blue dashed line is the percentage of true positives. Among other things, it shows that if the new pass-fail score is zero and everybody passes, about 15 percent will be qualified. If this is high enough we can save ourselves the trouble of administering a new test.</p>
<p>Since the same respondents have taken both tests, it is straightforward to determine the sensitivity and specificity of the new test for each pass-fail score:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">specificity</span> <span class="op">=</span> <span class="va">sensitivity</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">29</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">sensitivity</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&gt;=</span><span class="va">i</span><span class="op">]</span><span class="op">&gt;=</span><span class="fl">10</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">&gt;=</span><span class="fl">10</span><span class="op">)</span>
  <span class="va">specificity</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&lt;</span><span class="va">i</span><span class="op">]</span><span class="op">&lt;</span><span class="fl">10</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&lt;</span><span class="va">i</span><span class="op">]</span><span class="op">&lt;</span><span class="fl">10</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">ts</span><span class="op">$</span><span class="va">ref_test</span><span class="op">[</span><span class="va">ts</span><span class="op">$</span><span class="va">new_test</span><span class="op">&gt;=</span><span class="va">i</span><span class="op">]</span><span class="op">&lt;</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span> 
<span class="op">}</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span>, <span class="va">sensitivity</span>, ylab<span class="op">=</span><span class="st">"sensitivity/specificity"</span>, xlab<span class="op">=</span><span class="st">"new test score"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"o"</span>, col<span class="op">=</span><span class="st">"red"</span>,bty<span class="op">=</span><span class="st">'l'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span>, <span class="va">specificity</span>, col<span class="op">=</span><span class="st">"green"</span>, type<span class="op">=</span><span class="st">"o"</span><span class="op">)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-4" alt="plot of chunk unnamed-chunk-4" style="display: block; margin: auto;"></p>
<p>If sensitivity and specificity are deemed equally important, the plot suggests 14 or 15 as appropriate pass-fail scores. Higher values would make the specificity go up (i.e., less false positives) at the expense of sensitivity; lower values would do the reverse. From the plots made earlier, we see that about half of the persons with a score equal to the passing score would actually pass the reference test.</p>
<p>As candidates are classified into two classes, we can readily show the trade-off between sensitivity and specificity with the ROC curve:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">specificity</span>, <span class="va">sensitivity</span>, col<span class="op">=</span><span class="st">"green"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"l"</span>,bty<span class="op">=</span><span class="st">'l'</span><span class="op">)</span>
<span class="fu">textxy</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">specificity</span>, <span class="va">sensitivity</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">28</span><span class="op">)</span>, cex<span class="op">=</span><span class="fl">0.7</span>, offset <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,lty<span class="op">=</span><span class="fl">2</span>, col<span class="op">=</span><span class="st">"grey"</span><span class="op">)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAABgFBMVEUAAAAAADoAAGYABgYAIAAAKAAAMgAAOgAAOjoAOpAASQAAZgAAZrYAewAAkAAAtgAAvAAA2wAA/wAEKIEGAAYGABkGBgYGBhkIBAQKHWYLBAQNAxAQb9sTDRQXFzoXKGYZAAAZAAYZBgAZQv8Ziv8dCg0dHxcoFxAoWHwqESgqZlgyb2Y6AAA6ADo6AGY6HQo6Mjo6OmY6OpA6ZmY6ZpA6ZrY6kLY6kNtCBgBCiv9Y2/9mAABmADpmAGZmFxdmMhxmOgBmOjpmOmZmOpBmZgBmZjpmZktmZmZmZpBmZrZmkLZmkNtmtttmtv+B//+KGQCQOgCQOjqQOmaQZgCQZjqQZmaQZpCQkDqQkGaQkJCQtpCQtraQtv+Q27aQ29uQ2/+ckGac27ac2/+2ZgC2Zjq2Zma2ZpC2kGa225C22/+2/7a2/9u2//++vr7bkDrbkGbbkJDbtmbbtpDb25Db27bb/7bb////tmb/25D/27b/29v//0L//4r//7b//9v///8NMxtOAAAACXBIWXMAAAsSAAALEgHS3X78AAAOL0lEQVR4nO2dC3vbSBWG3V0gBAcHi/v9ttxLIc3uBkgLNAESthiSkpayLAhwndJFcWC72NrdWvrraEaSLVuyNLJG38xI533ax9ex5deTo6PxGU3HJyB0VG9AWyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SBINAgSDYJEgyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SBINAgSDYJEgyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SBINAgSDYJEgyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SBINAgSDYJEgyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SCqiKYvqQTFstybHcZLzgZtiTmFsryzAb+cbk9Kt20RV0VPKJQ1u+ssXZZp2xquCj1Tj5ZBsWYRWbNDitH5iHhuctZxfXJy+mzlvqd7b6We5z08eYP/tY4HqUde5S/gXezPm11GHc57urf64rk0WHSQMP125Y7rgffnVAR070eX91ZFX9uzY/b0se09CP16F3vO/KUepV4qB2FZiZ1hJ6bE+yjAsrrWCt3eVn/1Pmt3a2uXP7i7m3qs14uubM1fIr7sWyNHMGwwGtqjmQp/en/17uEg7poJ3pv4TNm1PV3t0b7/7invtd65Hd8zcuaXwT9hz00UzSUzntirDwX3jFKi//OM3e89Pbl3eyUWvOOErzE7WoTjuP217T10xD0bLtq7iPZWT/ZtfsdcMrsz3Xndo4evpV7E3bt4nV9J9Wj3KHzkyf7JafwdxKLfO7q4X8Kz4aKDvRTfI43ZnikpWT+KjwwPoz1fOpFWL/pJP9w59bvBXkv1xuRTLMs7O9i4bc1Y/b0Tnm5d33/3tEyuJYEyYYMhIGt2x964bZ0EgeL9SbBH8nngTO/5aqWsZ3NjNI/H7ukFT+Hco8fpnVydlPZsqmjFu73yns0UrXN2sQ4DRZuo2UDRyjVvEDYYJom+dLzeVqmxyRrY0LNBotkIZa/k2KR8NvVskujJyMocFEKysWeDRPt+1wnHJo3EHNGWNXL42CT0XaVhjGiLHWizsUnkmy6xedhgmCJadVInUrqRiyGi1Xuu+gJmiDbfsxmilXuWgAmim+DZANHKBzckxA3fANHqNUvxrL1o9Z4lvY7Ooi8d37pUfCAoy7PGotlonTWvKTQejUVPupY3MXUMKYW+on1eralUtLS44ess2vIVi5aUbkToKtqyfMWipWrWVrTyrE62Z01Fq/csHaGZsztj6Kws9QfdNVA8z/Dc9sc7ge/Vcvh6RF86Xnc/PXMKjOy44QvOnB0fgGbOBgcpVs/OKNWHIjfdiNCrR1tWN3AczjlTRh2aBWP0ASRGW1FKl5gCpYJ6POuTdUR7wJGTnALVINSLDnZ/D7v9ONEYOckpUA1C9cxZXlHXVxyV59QUNhiqezSrqPO9p+rKYpLU6Fm5aFZRN58JrJg6Pas/p5I1ct6Bz6nKpFbPys9AwwZD45nAjUbxOZWaOKqRjdoerY3nesMGQ+k5lVrkWV3WwWoJUicxUgTAsyrRvJYgfRIjNSA8KxMdHKd4j/6rh2gIykJH18k8iVFjUSXaGv074yRGeCBhg6FIdFi0ob5HwzwrEq1LXofzrEZ0Cz0rEa2LZyhg0fznlDeU7wIVABXNDlPcXoV3lAgybDCwoicjZ3fv3u8qvKckaindyAUcOkZWdMpVtcA1w0V3nfCUq2pR4Bkven7K1ZaBFd3KxC4EKloLzyriho8VrYNnfLoR0TLRqjTjRF86fi9jaQ4w6jyDRPMC86ylOdoDSLTVdUaP9+wKb2Y6CNGswnzkZC7NgURh3PBrFX3psEWU+mGF+chRfBZGZelGRG2iw8WO+t3oJquwy1iaA4ZizXWKnowcy9LlvIvKPdcZOkZZiyi1FpH66IF31umkaxwFRCsfp9MHoWrS4WCTeYZdR/XMzAj1ccMXq4/mE//K10drcMTNUJ1uRISyZoc7a58RdOfpge9P08/IF62LZ9UbEBHLmnY6N+zspwx5fXTGN2GCaF08J2WxXV6pGq1c0Xp41odYlnuT9eiMQCzQNgvyvEIcozOyt2VKzpzVQbQ2YYMRieYWy/Xn3B5NnldhsuZrQxZ263TbNWggWi/PSz06m9IzZ/nZemwZG1cFzTzLn2fIRu3Gu6oXANIPHjruvr12LmHpmbNs1K5/qsnpCjSihpmzI6eHXwJ2Cd3CBqOGmbMjC78E7BI6ehbPo9e2TTGy4EvALqGl5+SRYdZwhlDbVYxbDxZBUtY0a2co2DaJBkm0ftTQo8lzFjXEaIWiNQ0bjBp+nFUnWmPPxQcsBW3TkOdM5PdoZaK19lzDMCntCzORPEzKRu5ebeRJXKtSPExa1DYBP9GorWLkTu+wwZAao9nIXVdF0aj+nmVnHSPL3TuBr29lgGfZWcfIen8CX7rbBM+yRXcd91Th0t0aE8kab0/GJctnMkVTbreOKOu4Ywf/3FtVYzTesxFhgzFP74I+bZ5oTSpFRYhDR+eGPa0cOuCewe9XBak7Q7BokzxLFU17whwiWVMZBywkOof4F5ZNTl65Ihrr2ai44UsdVEKKNijdiIhkDQ82b+uzYbv9t6yne7DxUeM0L0JHtRg9tr0HvQFsfNRAz9KyjtnWhdpJ9bojKDrzoDE50ei8H1gm0euJZHlnne3/3bEznjD/nSsdV+K2F/t/Oepf/t3GjI+aGDf8WJZ3duDenmRU5vrMdKA4r0cHAfrn3//wV/5xhBgfNS/diJind4HodUne7HD7eW7omB1bE0zYMFXzco8er/0V3L2ZlZDEor1z28LEZ3M9J2J06WqDuC1bJBYk2mAkpHdskVgSXYSw6PyZs4jDb4Pjhi/tN8P6RRubbkRI+s2wdtGGaxb5zVBo5mzdoo33XPybodg8QxrzL0LknEpLl9ltSXQRkmbO1ina/LDBkDRztkbRzfAsazy6PtEN8ay96KZ41l50YyDRIHQW3ZiwwdBYdKM8ayy6WZ71Fd0wz/qKbhokGoSWopsWNhg6im6iZx1FN9KzhqKb6VlD0Q2FRIPQS3RDwwZDJ9Gml27kopHoJmuWIprPFAr+V9ySZnuWIZrPFLI1WRdLW6SEjtmxFfynk83nIUM0K0TnC5dtTsPjhi9FNC9EP6oymbPR6UaEpEL0bvB/49DRAs1apHet8KyD6HZQLDpcF46qSSsiVE3qnR3UJbodccMXro8e7tQiug3pRoRoffT4o+l5F5VFt0ezWH00P2nKeO2ke8ZGotvkmbIOFLJG7x7SedDzkTBzNhy9Kzuo1Kq44csbvfPKrWDYonQjQtbonV9qBcPWaRY8MsyflcVG73ZLrWDYQs8y5hmy0bv+0cXrkresYdDMWRDwmbNtDBsM9MzZtnpGHxm21jNYdHs901gHChINAie6xWGDARPdcs8w0W33LEk0eS4EJJog0SAAoilsMOoXTZ45tYsmzyF1iybPEbQzBEGiQdQpmsJGgvpEt690I5faRJPmZaqLfvGNl7/Z+87nPv/PpcfI8wrVRf/hlRdf//h3f/FVms+Zi4zQ8cGnP/blL3xJxtY0GAmiX3ztlY/84Dff+/3iAYobaaqL/uBTP/U+9O0ff+tn8d2UbmRRXfRPXv7MZz/xxR99Mr6XNGciPb0jz9nQITgIEg1CQiG6vxBNcWMtcsp2Q9GUbuQgpxCdiybNecjr0eQ5FzmF6LQzLKR61sEnzj7Zt6VsTnOpLppPnL3yHtHoXS4Spij7s6ur03ITZ1uIjEn3V/b1/VITZ9tIddGzq2dsUfASE2dbSfUjQzZx9vnR49ekb1qzkDShkyii4pEhHaWIUq1Hk2dhKh0ZkmdxqsTZqw6RoD7RVV6ldS1INKgFiQa1INGgFiQa1IJEg1qQaFALGq8AQaJBkGgQJBoEiQZBokGQaBAkGgSJBkGiQVQTPTvsRD8lLq6JtmBlDINSLRY/YIq28M74Ol/ltirjR7ss3GgFIMFPXkk0+9zjneVroi1md2zf/aFdokXAWOSrSbQYDrJ+VC7YqrFQj5lGX4joJ68kmpUghF/s4ppoiynbuGGxt+Qru3u/FBC9vFUiLFq4tydirYY33gw3SvSTVxLNNyvoA8lroi0YJVt4538TCR3JrfqjUOhYtBDv0bFd0U9eSTT7swzfZHFNtIXv89X7yrQYHwjF6EUL9+aAiyjxHqL7mrlo0U+usEdHq52VeQ8h0VW2iu01pmJ7Q2SPrhKjeXcr9R5jXj1R/OUktupYTEJizyHYP/25aEiMZn/7cdZxIJh1xM8T9Lz8ykI9OtFiKBY6EltVukeLfnIZeTR7y3J5dNAi7J8iScT8Pcrl0dFWCVlbtJh2xDLvUHSJT05HhiBINAgSDYJEgyDRIEg0CBINgkSDINEgSDQIEg2CRIMg0SBINAgSDYJEgyDRIEg0CBINgkSDMEC0yI/58RO9s85+/PTgpnDT+tFf9FS0vJOxYpZEizOvJoyZ8rPhzO7+idcFRAUFwcUN2731dnDxZlgCEN186VdipR21o73o1W7JKoPGO4HK7QmrdBny8hVW7zHdfs5jBQ8gi5vTA38qUnpWN+aJjosRB753brNbgfqo5jYWnbw5O55oce5Dc0QPO52olozFDO57OOBn1gqiBA8OC9GJm975X481iBwGiU4w3Z4w0axHh0XjOT3aH5/oEDnME83qPZnowx1+NYjRwQULyu6tfyVjdHxTaP4GAONEsxDCso47v46zjvnFojvHN72zlxzvgRYpngGiMxEsYg5w9Tg9beNFjwWrcOvGVNHGQaJBkGgQJBoEiQZBokGQaBAkGgSJBkGiQZBoECQaBIkGQaJBkGgQJBrE/wG0T7wWWEZVjAAAAABJRU5ErkJggg==" title="plot of chunk unnamed-chunk-5" alt="plot of chunk unnamed-chunk-5" style="display: block; margin: auto;"></p>
<p>Other packages and functions may produce prettier plots — but can they do it without complete data?</p>
</div>
<div class="section level3">
<h3 id="incomplete-data">Incomplete Data<a class="anchor" aria-label="anchor" href="#incomplete-data"></a>
</h3>
<p>It is more involved, but practically more useful, to calculate sensitivity and specificity even though the two tests have not been both administered to the same persons. We first simulate a complete data set with responses to 60 items. Then, we select the first 500 persons and 40 items to represent the reference test, and the remaining 200 persons and items 21 through 60 to represent the target test. Note that the two respondent groups are sampled from two different ability populations and cannot be considered as equivalent.</p>
<p>We create a new <code>dexter</code> project, and we add the two booklets. We assume that the pass-fail limit for the reference test is 23 points.</p>
</div>
<div class="section level3">
<h3 id="the-probability-to-pass">The probability to pass<a class="anchor" aria-label="anchor" href="#the-probability-to-pass"></a>
</h3>
<p>As a start, we use the function <code>probability_to_pass</code> to estimate, for each score on the target test, the proportion of persons who pass the reference test. We show this as a plot.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">par_sim</span> <span class="op">=</span> <span class="fu"><a href="../../reference/fit_enorm.html">fit_enorm</a></span><span class="op">(</span><span class="va">db_sm</span><span class="op">)</span>
<span class="va">ou_e</span> <span class="op">=</span> <span class="fu"><a href="../../reference/probability_to_pass.html">probability_to_pass</a></span><span class="op">(</span><span class="va">db_sm</span>, 
                           <span class="va">par_sim</span>, 
                           ref_items <span class="op">=</span> <span class="va">ref_items</span>, 
                           target_booklets <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>booklet_id<span class="op">=</span><span class="st">"bk2"</span>, item_id<span class="op">=</span><span class="va">target_items</span><span class="op">)</span>, 
                           pass_fail <span class="op">=</span> <span class="va">pass_fail</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ou_e</span>, what<span class="op">=</span><span class="st">"equating"</span><span class="op">)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-9" alt="plot of chunk unnamed-chunk-9" style="display: block; margin: auto;"></p>
<p>Let the scores on the reference and new test be written, respectively, as <span class="math inline">\(R_+\)</span> and <span class="math inline">\(N_+\)</span>, and let <span class="math inline">\(\mathbf{x}\)</span> denote the available data. We calculate <span class="math inline">\(P(R_+ \geq c|N_+ = s, \mathbf{x})\)</span>, the probability that a person with a score of <span class="math inline">\(s\)</span> on the target test will pass. Simply stated, we calculate this probability by averaging over what could have happened on the basis of the available data. A technical appendix explains a bit more.</p>
<p>A little extra in the plot are the horizontal red lines. These refer to the traditional ability-based pass-fail score obtained as follows: First, estimate an ability for each score on the reference and the new test. Then, determine the score on the new test corresponding to the smallest ability equal to or larger than the ability corresponding to the pass-fail score on the reference test. This will then be the pass-fail score in the new test. The horizontal lines are actually the probabilities of pass-fail scores thus obtained. While this is the usual procedure to equate a pass-fail score, we believe the procedure that we propose here is more informative.</p>
</div>
<div class="section level3">
<h3 id="sensitivity-and-specificity">Sensitivity and specificity<a class="anchor" aria-label="anchor" href="#sensitivity-and-specificity"></a>
</h3>
<p>Having the probability to pass and the proportion of respondents, <span class="math inline">\(P(N_+ = s)\)</span>, for all possible scores <span class="math inline">\(s\)</span>, we can calculate sensitivity and specificity and plot them for each possible pass-fail score on the target test:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ou_e</span>, what<span class="op">=</span><span class="st">'sens/spec'</span><span class="op">)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk unnamed-chunk-10" alt="plot of chunk unnamed-chunk-10" style="display: block; margin: auto;"></p>
<p>If sensitivity and specificity are equally important, the plot suggests as a pass-fail score on the new test.</p>
</div>
<div class="section level3">
<h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>An educational test equipped with a single pass-fail score is a binary test aimed at classifying candidates into those who pass, and those who fail. In fields like medical testing or machine learning, sensitivity and specificity are typically considered to evaluate the performance of such a test. Essentially, what we have tried to do is apply this logic to educational tests. Item response theory was used to deal with incomplete data as we typically see in educational measurement. Presumably, medical testing faces similar complications, but this is beyond our immediate scope.</p>
<p>In closing, we should mention that this is a first attempt to equate tests in a way that does not involve unobservable quantities; it uses item response theory to fill in missing data, no more. We would like to test the functions more thoroughly before attempting an extension to classification into more than two classes. Feedback from users is very welcome.</p>
</div>
<div class="section level3">
<h3 id="technical-appendix">Technical Appendix<a class="anchor" aria-label="anchor" href="#technical-appendix"></a>
</h3>
<p>Let us consider how we determine the probability to pass the reference test given a score <span class="math inline">\(N_+=s\)</span> on the target test. This probability can be defined as:<br><span class="math display">\[
P(R_+ \geq c|N_+ = s, \mathbf{x})
      = \int_{\mathbf{b},\theta} 
             P(R_+ \geq c|\theta,\mathbf{b}) 
             f(\theta|N_+ = s, \mathbf{b}) f(\mathbf{b}|\mathbf{x})
      d\mathbf{b} d\theta,
\]</span></p>
<p>where <span class="math inline">\(Y_+\)</span> denotes the score on the reference test, with pass-fail score <span class="math inline">\(c\)</span>, <span class="math inline">\(\theta\)</span> denotes ability and <span class="math inline">\(\mathbf{b}\)</span> is the vector of item parameters. The integrand has three parts:</p>
<ul>
<li>
<span class="math inline">\(f(\mathbf{b}|\mathbf{x})\)</span>: The posterior of the item parameters, given all data <span class="math inline">\(\mathbf{x}\)</span>.</li>
<li>
<span class="math inline">\(f(\theta|N_+ = s, \mathbf{b})\)</span>: The posterior of ability given the score on the new test.</li>
<li>
<span class="math inline">\(P(R_+ \geq c|\theta,\mathbf{b})\)</span>: The probability to pass given ability equal to <span class="math display">\[
P(R_+ \geq c|\theta,\mathbf{b}) 
= \sum_{s \geq c} P(R_+ = s |\theta, \mathbf{b}) 
= \sum_{s \geq c} \frac{\gamma_s(\mathbf{b}) e^{s \theta}}
                     {\sum_h \gamma_h(\mathbf{b}) e^{h \theta}},
\]</span> with <span class="math inline">\(\gamma_s(\mathbf{b})\)</span> the elementary symmetric function of order s.</li>
</ul>
<p>To calculate a Monte-Carlo estimate, repeat:</p>
<ul>
<li>sample item parameters <span class="math inline">\(\mathbf{b}^* \sim f(\mathbf{b}|\mathbf{x})\)</span>
</li>
<li>sample a plausible value <span class="math inline">\(\theta^* \sim f(\theta|N_+ = s, \mathbf{b}^*)\)</span>
</li>
<li>calculate <span class="math inline">\(P(R_+ \geq c|\theta^*,\mathbf{b}^*)\)</span>
</li>
</ul>
<p>We do this as often as we can afford (currently, five hundred times), and we take the average as an estimate of <span class="math inline">\(P(R_+ \geq c|\theta^*,\mathbf{b}^*)\)</span>.</p>
<p>Sensitivity and specificity are calculated from the score distribution on the new-test and the probability to pass. The following code shows how:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="va">p_pass_given_s</span> <span class="op">=</span> <span class="va">out</span><span class="op">$</span><span class="va">probability_to_pass</span>
  <span class="va">ps</span> <span class="op">=</span> <span class="va">ou_e</span><span class="op">$</span><span class="va">pnew</span>
  <span class="va">tp</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">p_pass_given_s</span><span class="op">*</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
  <span class="va">sensitivity</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">p_pass_given_s</span><span class="op">*</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="va">tp</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
  
  <span class="va">tn</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">p_pass_given_s</span><span class="op">)</span><span class="op">*</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
  <span class="va">specificity</span> <span class="op">=</span>  <span class="fl">1</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">p_pass_given_s</span><span class="op">)</span><span class="op">*</span><span class="va">ps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="va">tn</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references">
<div id="ref-BolsinovaMaris2016">
<p>Bolsinova, Maria, and Gunter Maris. 2016. “Can Irt Solve the Missing Data Problem in Test Equating?” <em>Frontiers in Psychology</em> 6: 1956. <a href="https://doi.org/10.3389/fpsyg.2015.01956" class="external-link">https://doi.org/10.3389/fpsyg.2015.01956</a>.</p>
</div>
<div id="ref-Swets96">
<p>Swets, John A. 1996. <em>Signal Detection Theory and Roc Analysis in Psychology and Diagnostics: Collected Papers.</em> Hillsdale, NJ: Lawrence Erlbaum Associates, Inc.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gunter Maris, Timo Bechger, Jesse Koops, Ivailo Partchev.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
