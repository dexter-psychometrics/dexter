<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulating data with dexter: a commented example • dexter</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="Simulating data with dexter: a commented example">
<meta property="og:description" content="dexter">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">dexter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/dexter.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/DIF_vignette.html">Exploring Differential Items Functioning with Dexter</a>
    </li>
    <li>
      <a href="../../articles/Equating.html">Equating a Pass-Fail Score</a>
    </li>
    <li>
      <a href="../../articles/Plausible_Values.html">Plausible Values in Dexter</a>
    </li>
    <li>
      <a href="../../articles/profile-plots.html">How Members of Different Groups Obtain the Same Test Score: Profile Plots in Dexter</a>
    </li>
    <li>
      <a href="../../articles/Test_Individual_differences.html">One theta to rule them all: Test Individual Differences</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../articles/blog/index.html">Blog</a>
</li>
<li>
  <a href="../../articles/blog/about.html">About</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dexter-psychometrics/dexter" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Simulating data with dexter: a commented
example</h1>
                        <h4 data-toc-skip class="author">Jesse Koops and
Ivailo Partchev</h4>
            
            <h4 data-toc-skip class="date">3/26/2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dexter-psychometrics/dexter/blob/HEAD/vignettes/blog/2022-03-26-simulate_with_dexter.Rmd" class="external-link"><code>vignettes/blog/2022-03-26-simulate_with_dexter.Rmd</code></a></small>
      <div class="hidden name"><code>2022-03-26-simulate_with_dexter.Rmd</code></div>

    </div>

    
    
<p>We are busy people. We spend most of our time analyzing the
large-scale national and international assessments for which
<strong>dexter</strong> was developed. So far, we have not had the time
to discuss at length the facilities for simulating item response data
with <strong>dexter</strong>. Of course they are there, since simulation
plays a vital role in our approach to generating plausible values and
modelling in general – see <span class="citation">Marsman et al.
(2017)</span>. But they are somewhat hidden among several ‘functions of
theta’ – anyway, here is the overdue introduction to data simulation
with <strong>dexter</strong>.</p>
<p>Simulating IRT data for a single booklet of Rasch items is quite easy
– it can be done with a single line in plain R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Rasch_data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Logistic.html" class="external-link">rlogis</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">20</span>,<span class="op">-</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span> ,<span class="st">'-'</span><span class="op">)</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">)</span>, <span class="fl">500</span>, <span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<p>The <strong>dexter</strong> way would be:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dexter-psychometrics.github.io/dexter/" class="external-link">dexter</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">items</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>item_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'item'</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span>,</span>
<span>               item_score <span class="op">=</span> <span class="fl">1</span>,</span>
<span>               beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">20</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Rasch_data</span> <span class="op">=</span> <span class="fu"><a href="../../reference/information.html">r_score</a></span><span class="op">(</span><span class="va">items</span><span class="op">)</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We just construct a tibble with the item parameters in the expected
format, after which it is a single line again. We now discuss a more
interesting and complicated case. The example is by Jesse and the
comments by me, so the perception of a certain age difference is
inevitable even if not deliberate.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://mvtnorm.R-forge.R-project.org" class="external-link">mvtnorm</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="va">domains</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'geometry'</span>,<span class="st">'algebra'</span>,<span class="st">'measurement'</span><span class="op">)</span></span>
<span><span class="va">nit</span> <span class="op">=</span> <span class="fl">50</span></span>
<span></span>
<span><span class="va">pop_theta</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">gender</span>, <span class="op">~</span><span class="va">school_type</span>, <span class="op">~</span><span class="va">geometry</span>, <span class="op">~</span><span class="va">algebra</span>, <span class="op">~</span><span class="va">measurement</span>, <span class="op">~</span><span class="va">sd</span>, <span class="op">~</span><span class="va">n</span>,</span>
<span>  <span class="st">'boys'</span>,  <span class="st">'sbo'</span>,        <span class="op">-</span><span class="fl">.3</span>,       <span class="op">-</span><span class="fl">.5</span>,      <span class="op">-</span><span class="fl">.5</span>         ,  <span class="fl">.6</span>,  <span class="fl">500</span>,    </span>
<span>  <span class="st">'girls'</span>, <span class="st">'sbo'</span>,        <span class="op">-</span><span class="fl">.5</span>,       <span class="op">-</span><span class="fl">.5</span>,      <span class="op">-</span><span class="fl">.2</span>         ,  <span class="fl">.6</span>,  <span class="fl">400</span>,  </span>
<span>  <span class="st">'boys'</span>,  <span class="st">'bao'</span>,         <span class="fl">.7</span>,        <span class="fl">.5</span>,       <span class="fl">.2</span>         , <span class="fl">1</span>,   <span class="fl">1200</span>,</span>
<span>  <span class="st">'girls'</span>, <span class="st">'bao'</span>,         <span class="fl">.5</span>,        <span class="fl">.5</span>,       <span class="fl">.5</span>         , <span class="fl">1</span>,   <span class="fl">1100</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>tribble</code>, ot transposed tibble, defines the
combinations of gender, two Dutch school types, and three domains that
will be treated as three highly correlated but distinct abilities. The
hypothesized abilities will have a multivariate normal distribution with
means varying across domains, sexes, and school types, and standard
deviations differing just across school types. The last column has the
number of fictional students in each cell.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">domains</span>, <span class="va">nit</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>               item_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'item%03i-%s'</span>, <span class="fl">1</span><span class="op">:</span><span class="va">nit</span>, <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span><span class="va">domain</span>,<span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>               item_score <span class="op">=</span> <span class="fl">1</span>,</span>
<span>               beta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">nit</span>, <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Here we constructed the tibble that defines the items, just as in the
initial example. <code>sprintf</code> is a much better choice than
<code>paste0</code> because it produces sortable names: we don’t get
items 10 through 19 sorted before item 2, for example. Next, define the
correlation matrix for the three domains and use the
<strong>mvtnorm</strong> package to generate the abilities:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rho</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.8</span>, <span class="fl">.8</span>,</span>
<span>              <span class="fl">.8</span>, <span class="fl">1</span>,  <span class="fl">.8</span>,</span>
<span>              <span class="fl">.8</span>, <span class="fl">.8</span>, <span class="fl">1</span><span class="op">)</span>, </span>
<span>             ncol<span class="op">=</span><span class="fl">3</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">theta</span> <span class="op">=</span> <span class="va">pop_theta</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">gender</span>, <span class="va">school_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/do.html" class="external-link">do</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">res</span> <span class="op">=</span> <span class="fu">rmvnorm</span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">n</span>, </span>
<span>                  mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/double.html" class="external-link">as.double</a></span><span class="op">(</span><span class="va">.</span><span class="op">[</span>,<span class="va">domains</span><span class="op">]</span><span class="op">)</span>,</span>
<span>                  sigma<span class="op">=</span><span class="va">rho</span> <span class="op">*</span> <span class="va">.</span><span class="op">$</span><span class="va">sd</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="op">=</span> <span class="va">domains</span></span>
<span>    <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>This happens in a <strong>dplyr</strong> pipe that groups by gender
and school type, effectively calling <code>rmvnorm</code> four times and
combining the results in a tibble. Now that we have the items and the
thetas, call <code>r_score</code> three times to generate the simulated
item responses, and stack the output:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../../reference/information.html">r_score</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">items</span>, <span class="va">domain</span><span class="op">==</span><span class="st">'geometry'</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="va">theta</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../../reference/information.html">r_score</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">items</span>, <span class="va">domain</span><span class="op">==</span><span class="st">'algebra'</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="va">theta</span><span class="op">$</span><span class="va">algebra</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../../reference/information.html">r_score</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">items</span>, <span class="va">domain</span><span class="op">==</span><span class="st">'measurement'</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="va">theta</span><span class="op">$</span><span class="va">measurement</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Add the two person properties:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">gender</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">pop_theta</span><span class="op">$</span><span class="va">gender</span>, <span class="va">pop_theta</span><span class="op">$</span><span class="va">n</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">school_type</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">pop_theta</span><span class="op">$</span><span class="va">school_type</span>, <span class="va">pop_theta</span><span class="op">$</span><span class="va">n</span><span class="op">)</span></span></code></pre></div>
<p>The simulated data is ready now, but we are going to put it in a
<strong>dexter</strong> database and have some more fun with generating
an incomplete design. The creation of a <strong>dexter</strong> database
(a.k.a. project) always starts with a set of scoring rules. We shall
make some trivial rules, where responses can be only 0 or 1, and will be
scored as 0 or 1:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dummy_rules</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>item_id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">items</span><span class="op">$</span><span class="va">item_id</span>,<span class="fl">2</span><span class="op">)</span>, item_score<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>,each<span class="op">=</span><span class="va">nit</span><span class="op">)</span>, response<span class="op">=</span><span class="va">item_score</span><span class="op">)</span></span></code></pre></div>
<p>From the rules, we generate an empty database, announcing the two
person properties included with the data:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db</span> <span class="op">=</span> <span class="fu"><a href="../../reference/start_new_project.html">start_new_project</a></span><span class="op">(</span><span class="va">dummy_rules</span>, </span>
<span>                       <span class="st">':memory:'</span>, </span>
<span>                       person_properties<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>gender<span class="op">=</span><span class="st">'&lt;unknown&gt;'</span>, school_type<span class="op">=</span><span class="st">'&lt;unknown&gt;'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now, let us have an incomplete design, 30 items per booklet. SBO
students will get the easier booklet, and BAO students will get the more
difficult one. In real life, this would be determined by a pretest with
a small sample of students, but we will simply sort items on their true
difficulty parameters. The easy booklet will contain all items except
the 20 most difficult ones, and the difficult booklets all items except
the 20 easiest ones; thus, the two booklets have an overlap of 10 items
of average difficulty:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">items_SBO</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">items</span>,<span class="va">beta</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">item_id</span><span class="op">)</span></span>
<span><span class="va">items_BAO</span> <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">items</span>,<span class="va">beta</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">31</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">item_id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../../reference/add_booklet.html">add_booklet</a></span><span class="op">(</span><span class="va">db</span>, </span>
<span>            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">dat</span>, <span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">items_BAO</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_type</span><span class="op">==</span><span class="st">'sbo'</span><span class="op">)</span>,</span>
<span>            <span class="st">'sbo_booklet'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../../reference/add_booklet.html">add_booklet</a></span><span class="op">(</span><span class="va">db</span>, </span>
<span>            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">dat</span>, <span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">items_SBO</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_type</span><span class="op">==</span><span class="st">'bao'</span><span class="op">)</span>,</span>
<span>            <span class="st">'bao_booklet'</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we add the domains as an item property:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/add_item_properties.html">add_item_properties</a></span><span class="op">(</span><span class="va">db</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">items</span>, <span class="va">item_id</span>, <span class="va">domain</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We are now ready to check how the models available in
<strong>dexter</strong> will cope with this simulated data set, or how
the diagnostic facilities might help us investigate its particular
properties.</p>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-marsman2017turning" class="csl-entry">
Marsman, Maarten, Gunter Maris, Timo Bechger, and Cees Glas. 2017.
<span>“Turning Simulation into Estimation: Generalized Exchange
Algorithms for Exponential Family Models.”</span> <em>PloS One</em> 12
(1): e0169787.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Gunter Maris, Timo Bechger, Jesse Koops, Ivailo Partchev.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
